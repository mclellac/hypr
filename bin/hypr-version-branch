#!/bin/bash
#
# Prints the current git branch of the local hypr repository.

set -euo pipefail

#######################################
# Main function to get and print the repository branch.
# Globals:
#   hypr_PATH - The path to the hypr git repository.
# Arguments:
#   None
# Outputs:
#   The git branch name to stdout.
#######################################
main() {
  if [[ -z "${hypr_PATH:-}" || ! -d "${hypr_PATH}/.git" ]]; then
    echo "Error: hypr_PATH is not set or is not a git repository." >&2
    exit 1
  fi

  git -C "${hypr_PATH}" rev-parse --abbrev-ref HEAD
}

main

#!/bin/bash
#
# Resets the sudo lockout for the current user. This is useful if you have
# entered your password incorrectly too many times.

set -euo pipefail

#######################################
# Main function to reset the sudo lockout.
# Globals:
#   USER - The current user's name.
# Arguments:
#   None
# Outputs:
#   None
#######################################
main() {
  echo "Resetting sudo lockout for user: ${USER}"
  # This command must be run as root to reset the faillock for another user.
  su -c "faillock --reset --user ${USER}"
}

main

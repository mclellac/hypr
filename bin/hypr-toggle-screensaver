#!/bin/bash
#
# Toggles the screensaver by creating or deleting a state file.

set -euo pipefail

readonly STATE_FILE="${HOME}/.local/state/hypr/toggles/screensaver-off"

#######################################
# Main function to toggle the screensaver.
# Globals:
#   STATE_FILE
# Arguments:
#   None
# Outputs:
#   None
#######################################
main() {
  if [[ -f "${STATE_FILE}" ]]; then
    rm -f "${STATE_FILE}"
    notify-send "󱄄   Screensaver Enabled"
  else
    mkdir -p "$(dirname "${STATE_FILE}")"
    touch "${STATE_FILE}"
    notify-send "󱄄   Screensaver Disabled"
  fi
}

main

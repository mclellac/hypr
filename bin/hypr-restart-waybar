#!/bin/bash
#
# Restarts the waybar service.

set -euo pipefail

#######################################
# Main function to restart the waybar service.
# Globals:
#   None
# Arguments:
#   None
# Outputs:
#   None
#######################################
main() {
  if pgrep -x waybar >/dev/null; then
    echo "Reloading waybar..."
    # SIGUSR2 reloads the configuration and style without restarting the process.
    pkill -SIGUSR2 -x waybar
  else
    echo "Starting waybar..."
    hyprctl dispatch exec waybar
  fi
}

main
